@model task_04.Models.RegistrationModel

@{
    ViewBag.Title = "Index";
}

<h2>Registration</h2>

@using (Html.BeginForm("Index", "Home", FormMethod.Post, new { id = "registrationForm" }))
{
    <div id="step1">
        <div class="form-group">
            @Html.LabelFor(model => model.Address)
            @Html.TextBoxFor(model => model.Address, new { @class = "form-control" })
        </div>
        <button type="button" id="nextButton1" class="btn btn-primary">Next</button>
    </div>

    <div id="step2" style="display: none;">
        <div class="form-group">
            @Html.LabelFor(model => model.Password)
            @Html.PasswordFor(model => model.Password, new { @class = "form-control" })
        </div>
        <button type="button" id="backButton2" class="btn btn-secondary">Back</button>
        <button type="button" id="nextButton2" class="btn btn-primary">Next</button>
    </div>

    <div id="step3" style="display: none;">
        <div class="form-group">
            @Html.LabelFor(model => model.Username)
            @Html.TextBoxFor(model => model.Username, new { @class = "form-control" })
        </div>
        <button type="button" id="backButton3" class="btn btn-secondary">Back</button>
        <button type="button" id="nextButton3" class="btn btn-primary">Next</button>
    </div>

    <div id="step4" style="display: none;">
        <div class="form-group">
            @Html.LabelFor(model => model.Email)
            @Html.TextBoxFor(model => model.Email, new { @class = "form-control" })
        </div>
        <button type="button" id="backButton4" class="btn btn-secondary">Back</button>
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
}

@if (TempData["Message"] != null)
{
    <div class="alert alert-success mt-3" role="alert">
        @TempData["Message"]
    </div>
}

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const form = document.getElementById('registrationForm');
        const step1 = document.getElementById('step1');
        const step2 = document.getElementById('step2');
        const step3 = document.getElementById('step3');
        const step4 = document.getElementById('step4');

        const nextButton1 = document.getElementById('nextButton1');
        const nextButton2 = document.getElementById('nextButton2');
        const nextButton3 = document.getElementById('nextButton3');

        const backButton2 = document.getElementById('backButton2');
        const backButton3 = document.getElementById('backButton3');
        const backButton4 = document.getElementById('backButton4');

        nextButton1.addEventListener('click', function () {
            step1.style.display = 'none';
            step2.style.display = 'block';
        });

        nextButton2.addEventListener('click', function () {
            step2.style.display = 'none';
            step3.style.display = 'block';
        });

        nextButton3.addEventListener('click', function () {
            step3.style.display = 'none';
            step4.style.display = 'block';
        });

        backButton2.addEventListener('click', function () {
            step2.style.display = 'none';
            step1.style.display = 'block';
        });

        backButton3.addEventListener('click', function () {
            step3.style.display = 'none';
            step2.style.display = 'block';
        });

        backButton4.addEventListener('click', function () {
            step4.style.display = 'none';
            step3.style.display = 'block';
        });
    });
</script>
